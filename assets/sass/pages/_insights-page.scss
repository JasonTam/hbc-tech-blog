@include media('>small') {
	$content-side-margins: 40px;
}

// insights page
.article-listing {
	display: grid;

	&__featured {
		display: grid;
		grid-area: featured;
		grid-template-columns: $content-side-margins minmax(auto, $content-width) $content-side-margins;
		grid-template-rows: repeat(4, 1fr);
		margin: 0 ($content-side-margins*-1) 0 ($content-side-margins*-1);
	    max-height: 560px;
	    overflow: hidden;

		// these are overrides. defaults are set in _article-snippet.scss
		.feature-image__link {
		    display: flex;
			grid-column: 1 / 4;
		    grid-row: 1 / 10;
		    overflow: hidden;
		}

		.feature-image {
		    width: 100%;
	        align-self: center;
		}

		.snippet__title {
			grid-column: 2 / 3;
		    grid-row: 5/6;
			margin: 0 0 30px 0;
			font-size: 32px;
		}

		.snippet__link {
			padding: 0 10px 0 10px;
		    box-decoration-break: clone;
		    background-color: white;
			text-decoration: none;
			color: $hbc-black;
			
			&:hover {
				color: $hbc-highlight;
			}
		}

		.snippet__meta {
			grid-column: 2 / 3;
		    grid-row: flex-end / flex-end;

		    padding: 0 10px;
		    width: fit-content;
			background-color: $hbc-white;
		}
	}

	&__sub-featured,
	&__remaining {
		display: grid;
		grid-template-columns: 1fr;
	}

	&__sub-featured {
	    margin-top: 40px;
	    border-top: solid 1px $hbc-border;

		.snippet {
			padding: 40px 0 40px 0;
		    border-bottom: solid 1px $hbc-border;
		}
	
	}

	&__remaining  {
		display: grid;
		grid-template-columns: 1fr;
		align-items: start;
		padding: 40px 0 0 0;
		margin: auto;

		.snippet {
			grid-area: art;
			padding-left: 40px;
			grid-row: auto;
			border-left: solid 1px $hbc-border;
			margin-bottom: 0px;
			
			&__title {
				border-top: solid 1px $hbc-border;
				margin-top: 40px;
				padding-top: 40px;
				width: 100%;
			}

			&:first-of-type {
				padding-top: 0;
				margin-top: -5px;

				.snippet__title {
					padding-top: 0;
					margin-top: 0;
					border: 0;
				}
			}
		}

		.featured-topics {
			grid-area: ft;
			position: sticky;
			top: $sticky-header-offset;
			margin-right: 40px;
		}	
	}

	// small landscape
	@include media('>=small', '<medium', 'landscape') {
	    &__featured {
	    	max-height: 80vh;

			.snippet__title {
				font-size: 38px;
			}
	    }
	}

	// medium
	@include media('>=medium') {
		grid-template-columns: 1fr minmax(auto, $content-width) 1fr;
		grid-template-areas:
			". featured ."
		;

		&__featured {
			grid-template-columns: $content-side-margins-large minmax(auto, $content-width) $content-side-margins-large;
			margin: 0 ($content-side-margins-large*-1) 0 ($content-side-margins-large*-1);
		}
	}

	// large
	@include media('>=large') {

		&__sub-featured {
			grid-template-columns: 1fr repeat(2, minmax(auto, $content-width/2)) 1fr;
			grid-auto-rows: 1fr;
		    border-top: 0;
			margin: 60px 0;

			.snippet {
				padding: 0;
			    border: 0;

				&:first-child {
					grid-column: 2 / 3;
					border-right: solid 1px $hbc-border;
					padding-right: 40px;
				}	

				&:last-child {
					grid-column: 3 / 4;
					padding-left: 40px;
				}
			}
		}

		// &__remaining {
		// 	display: grid;
		// 	grid-template-columns: minmax(auto, $content-width*.3) minmax(auto, $content-width*.7);
		// 	grid-auto-rows: repeat(11, minmax(100px, auto));
		//     grid-template-areas:
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     "ft art"
		//     ". pg";
		// }
	}




 //    // small landscape
	// @include media('>=small', '<medium', 'landscape') {
	// 	&__featured {
	// 		height: 90vh;
	// 	}
	// }

	// // medium portrait
	// @include media('>small', '<medium') {

	// 	&__featured {
	// 		margin-left: -40px;
	// 		margin-right: -40px;
	// 	}

	// 	&__sub-featured {
	// 	    display: flex;
	// 	    flex-direction: column;
	// 		border: 0;
	// 		margin-bottom: 0;
	// 	}

	// 	&__sub-featured {
	// 		padding: 0;

	// 		.snippet {
	// 			padding: 20px 0 40px 0;
	// 		    margin-bottom: 20px;
	// 		    border-bottom: solid 1px $hbc-border;

	// 		    &:first-child {
	// 				padding-top: 40px;
	// 				padding-right: 0px;
	// 			    border-top: solid 1px $hbc-border;
	// 		    }

	// 			&:first-child,
	// 			&:last-child {
	// 			    border-right: 0;
	// 			    margin-left: 0px;
	// 			    margin-top: 0px;
	// 			    padding-left: 0px;
	// 			}
	// 		}
	// 	}

	// 	&__sub-featured,
	// 	&__remaining {
	// 		padding-left: 40px;
	// 		padding-right: 40px;

	// 		.featured-topics {
	// 			top: 40px;
	// 		}

	// 	}
	// }

	// // medium landscape
	// @include media('>=medium', '<large', 'landscape') {

	// 	&__remaining {
	// 		padding-left: 40px;
	// 		padding-right: 40px;

	// 		.featured-topics {
	// 			top: 40px;
	// 		}
	// 	}
	// }

	// mobile layout
    // @media screen and (max-width: $breakpoint-medium) {
		
				


		// &__sub-featured {
		// 	padding: 0;


		// }

		// &__remaining  {
		// 	grid-template-columns: 1fr;
		// 	padding-top: 0;

		// 	.snippet {
		// 	    padding-left: 0;
		// 	    border-left: 0;
		// 	    width: 100%;

		// 	    &:first-of-type {
		// 			padding-top: 20px;
		// 	    }
		// 	}
		// }	
	// }
}

