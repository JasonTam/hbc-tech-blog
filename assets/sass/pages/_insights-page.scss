// insights page
.article-listing {
	display: grid;
	grid-template-columns: 1fr;
	grid-template-rows: min-content;
	grid-template-areas: "featured" "sub-featured" "remaining";
	margin: auto;
	max-width: $content-width;

	&__featured {
		display: grid;
		grid-area: featured;
		grid-template-columns: $content-side-margins minmax(auto, $content-width) $content-side-margins;
		grid-template-rows: repeat(4, 1fr);
	    margin: auto;
		margin: 0 ($content-side-margins*-1) 0 ($content-side-margins*-1);
	    max-height: 60vh;
	    overflow: hidden;
        
        &:hover {
        	.feature-image {
        		transform: scale(1.01);
        	}
        }

		// these are overrides. defaults are set in _article-snippet.scss
		.feature-image__link {
		    display: flex;
			grid-column: 1 / 4;
		    grid-row: 1 / 10;
		    overflow: hidden;
		}

		.feature-image {
		    width: 100%;
	        align-self: center;
            transition: transform 400ms cubic-bezier(0.2, 1, 1, 1);
		}

		.snippet__title {
			grid-column: 2 / 3;
		    grid-row: 5/6;
			margin: 0 0 30px 0;
			@include render-type-style(headline-2, $type-styles);
		    z-index: 1;

			&__link {
				padding: 0 10px 0 10px;
			    box-decoration-break: clone;
			    background-color: white;
				text-decoration: none;
			
				&:hover {
					color: $hbc-highlight;
				}
			}
		}


		.snippet__meta {
			grid-column: 2 / 3;
		    grid-row: flex-end / flex-end;

		    padding: 0 10px;
		    width: fit-content;
			background-color: $hbc-white;
			z-index: 1;
		}
	}

	&__sub-featured,
	&__remaining {
		display: grid;
		max-width: $content-width;
		margin: auto;
	    margin-top: 40px;
	    border-top: solid 1px $hbc-border;

		.snippet {
			padding: 40px 0 40px 0;
		    border-bottom: solid 1px $hbc-border;

		    &:last-child {
		    	border-bottom: 0;
		    	padding-bottom: 0;
		    }
		}
	}

	&__sub-featured {
		grid-area: sub-featured;
	}

	&__remaining  {
		grid-area: remaining;
		grid-template-columns: 1fr;
		grid-auto-rows: repeat(12, minmax(100px, auto));
	    grid-template-areas:
	    "art"
	    "pg"
	    "ft";

		.asides {
			grid-area: ft;
		}

		&--sub-page {
			margin-top: 0;
			border: 0;
			padding-top: 0;

			.articles {

				.snippet:first-child {
					padding-top: 0;
				}
			}
		}
	}

	// small landscape
	@include media('>=small', '<medium', 'landscape') {
	    &__featured {
	    	max-height: 80vh;

			.snippet__title {
				@include render-type-style(headline-2, $type-styles);
			}
	    }

		&__sub-featured {

			.snippet {
				
				&:last-child {
				    border-bottom: 0;
				}
			}
		}
	}

	// medium
	@include media('>=medium') {

		&__featured {
			grid-template-columns: minmax($content-side-margins-large, 1fr) minmax(auto, $content-width) minmax($content-side-margins-large, 1fr);
			margin: auto ($content-side-margins-large*-1) auto ($content-side-margins-large*-1);

			.snippet__title {
				@include render-type-style(headline-1, $type-styles);
			}
		}
	}

	@include media('>=medium', 'landscape') {

		&__featured {
	    	max-height: 80vh;
	    }

		&__remaining {
			padding-top: $content-side-margins-large*2;
			grid-template-columns: minmax(auto, 25%) minmax(auto, 75%);
			grid-auto-rows: minmax(50px, auto);
		    grid-template-areas:
		    "ft art"
		    ". pg";

		    .snippet {
				grid-row: auto;
				padding: 0 0 0 40px;
				margin-bottom: 0px;
				border-left: solid 1px $hbc-border;
				border-bottom: 0;
				
				&__title {
					border-top: solid 1px $hbc-border;
					margin-top: 40px;
					padding-top: 40px;
					width: 100%;
				}

				&:first-of-type {
					padding-top: 0;

					.snippet__title {
						padding-top: 0;
						margin-top: 0;
						border: 0;
					}
				}
			}

			.asides {
				margin-right: 40px;

				.featured-topics {
					position: sticky;
					top: 40px;
				}
			}

			&--sub-page {
				padding-top: 0;
			}
		}
	}

	// large
	@include media('>=large') {

		&__featured {
		    margin: auto;
	    	max-height: 600px;

			.snippet__title {
				@include render-type-style(headline-1, $type-styles);
			}
	    }

		&__sub-featured {
			grid-template-columns: repeat(2, 50%);
		    border-top: 0;
			margin: 60px auto;

			.snippet {
				padding: 0;
			    border: 0;

				&:first-child {
					grid-column: 1 / 2;
					border-right: solid 1px $hbc-border;
					padding-right: 40px;
				}	

				&:last-child {
					grid-column: 2 / 3;
					padding-left: 40px;
				}
			}
		}

		&__remaining {

			.asides {

				.featured-topics {
					top: $sticky-header-offset;
				}
			}
		}
	}


	@include media('>large') {

		&__remaining {

			&--sub-page {
				padding-left: 0;
				padding-right: 0;
			}
		}
	}
}

