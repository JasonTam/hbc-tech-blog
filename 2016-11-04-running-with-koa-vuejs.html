<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Running with Scissors: Koa2 and Vue.js</title><title>Running with Scissors: Koa2 and Vue.js | HBC Tech</title><meta property="og:title" content="Running with Scissors: Koa2 and Vue.js"><meta name="author" content="Andrew Powell"><meta property="og:locale" content="en_US"><meta name="description" content="We love Koa at Gilt. (Hell, I love Koa.) Embarking on a new project, I wanted to try something that wasn’t React or Angular. After poking at the alternatives I landed on Vue.js. I picked up the sharpest pair of scissors I could find and started running."><meta property="og:description" content="We love Koa at Gilt. (Hell, I love Koa.) Embarking on a new project, I wanted to try something that wasn’t React or Angular. After poking at the alternatives I landed on Vue.js. I picked up the sharpest pair of scissors I could find and started running."><link rel="canonical" href="https://saksdirect.github.io/hbc-tech-blog/2016-11-04-running-with-koa-vuejs.html"><meta property="og:url" content="https://saksdirect.github.io/hbc-tech-blog/2016-11-04-running-with-koa-vuejs.html"><meta property="og:site_name" content="HBC Tech"><meta property="og:type" content="article"><meta property="article:published_time" content="2016-11-04T00:00:00-05:00"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@Andrew Powell"><script type="application/ld+json">{"name":null,"description":"We love Koa at Gilt. (Hell, I love Koa.) Embarking on a new project, I wanted to try something that wasn’t React or Angular. After poking at the alternatives I landed on Vue.js. I picked up the sharpest pair of scissors I could find and started running.","author":{"@type":"Person","name":"Andrew Powell"},"@type":"BlogPosting","url":"https://saksdirect.github.io/hbc-tech-blog/2016-11-04-running-with-koa-vuejs.html","publisher":null,"image":null,"headline":"Running with Scissors: Koa2 and Vue.js","dateModified":"2016-11-04T00:00:00-05:00","datePublished":"2016-11-04T00:00:00-05:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"https://saksdirect.github.io/hbc-tech-blog/2016-11-04-running-with-koa-vuejs.html"},"@context":"http://schema.org"}</script><link rel="stylesheet" href="https://saksdirect.github.io/hbc-tech-blog/assets/css/main.css"><link rel="canonical" href="https://saksdirect.github.io/hbc-tech-blog/2016-11-04-running-with-koa-vuejs.html"><link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700" rel="stylesheet"><link rel="shortcut icon" href="https://saksdirect.github.io/hbc-tech-blog/assets/images/favicon.ico"></head><body aria-label="Content"><header id="site-header" class="site-header--sub-page"><a class="site-header__logo" href="https://saksdirect.github.io/hbc-tech-blog/"><svg class="hbc-tech-logo" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 64 52"><use class="hbc-tech-logo__text" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#hbc-tech-logo"></use></svg></a><p class="sticky-nav-meta"><a href="https://saksdirect.github.io/hbc-tech-blog/category/front end" class="meta__category">front end</a> <span class="meta__title">Running with Scissors: Koa2 and Vue.js</span></p><nav class="navigation"><a href="https://saksdirect.github.io/hbc-tech-blog/" class="navigation__link"><svg class="navigation__link__svg-icon" xmlns="http://www.w3.org/2000/svg"><path class="bar bar__top" d="M0,3 L30,3"></path><path class="bar bar__middle" d="M0,14 L30,14"></path><path class="bar bar__bottom" d="M0,25 L30,25"></path></svg></a></nav></header><section class="content"><article class="page article"><section class="article__content"><div class="article-meta"><a href="https://saksdirect.github.io/hbc-tech-blog/category/front end" class="article-meta__category">front end</a> <span class="article-meta__date">Published 4 NOV 2016</span></div><h1 class="article__content__title" title="Running with Scissors: Koa2 and Vue.js">Running with Scissors: Koa2 and Vue.js</h1><div class="article__content__read-time"><span class="read-time" title="Estimated read time"><span class="read-time__text-1">5 mins</span> <span class="read-time__text-2">Read</span> <span class="read-time__text-3">Time</span></span></div><div class="article__content__share-buttons"><ul class="share-buttons"><li class="share-buttons__link-item"><a href="https://twitter.com/intent/tweet?text=https://saksdirect.github.io/hbc-tech-blog//2016-11-04-running-with-koa-vuejs.html" class="share-buttons__link" title="Share on Twitter"><svg class="hbc-svg-icon" height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon--twitter" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#twitter"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://saksdirect.github.io/hbc-tech-blog/&source=/2016-11-04-running-with-koa-vuejs.html&title=Running with Scissors: Koa2 and Vue.js" class="share-buttons__link" title="Share on Linkedin"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#linkedin"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://saksdirect.github.io/hbc-tech-blog//2016-11-04-running-with-koa-vuejs.html" class="share-buttons__link" title="Share on Facebook"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#facebook"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.reddit.com/submit?url=https://saksdirect.github.io/hbc-tech-blog//2016-11-04-running-with-koa-vuejs.html" class="share-buttons__link" title="Share on Reddit"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#reddit"></use></svg></a></li></ul></div><div class="article__content__body"><p>We love <a href="http://koajs.com/">Koa</a> at Gilt. (Hell, <em>I</em> love Koa.) Embarking on a new project, I wanted to try something that wasn’t React or Angular. After poking at the alternatives I landed on <a href="https://vuejs.org/">Vue.js</a>. I picked up the sharpest pair of scissors I could find and started running.</p><h2 id="the-chosen-tech">The Chosen Tech</h2><p>If you haven’t heard of Koa:</p><blockquote><p>Koa is a new web framework designed by the team behind Express, which aims to be a smaller, more expressive, and more robust foundation for web applications and APIs.</p></blockquote><p>Koa is Express without the bells and whistles from the factory. Koa is the stock car that you bolt aftermarket parts onto, based on your needs. It’s fast as hell. It’s small. It’s a dang joy to work with. Koa2 improves on performance and makes use of await/async patterns.</p><p>If you haven’t heard of <a href="https://vuejs.org/">Vue.js</a>;</p><blockquote><p>Vue is a progressive framework for building user interfaces. …Vue is designed from the ground up to be incrementally adoptable. …is focused on the view layer only, and is also perfectly capable of powering sophisticated Single-Page Applications.</p></blockquote><p>Basically Vue.js takes the good parts from React, Angular, and Aurelia and bundles them into a single lib. <a href="https://www.youtube.com/watch?v=gnA1Q2JvvJo">Who want’s to go fast?</a>. React folks won’t like it because there’s no JSX and there’s two-way binding. I dig it explicitly because I personally think JSX is an abomination, but more specifically that Vue.js uses <code class="highlighter-rouge">&lt;templates&gt;</code> which are very close to web components and will make that transition easy in the future, if and when wide-spread support for them ever drops. I digress.</p><h2 id="setting-up">Setting Up</h2><p>It’s worth noting that we’re using Node v7, which supports most ES5 and a lot of ES6 syntax, with <a href="http://babeljs.io">BabelJS</a> thrown in to fill the gaps.</p><h3 id="koa">Koa</h3><p>I always start my Koa projects with a few base modules: koa (duh), <a href="https://www.npmjs.com/package/koa-router">koa-router</a>, and <a href="https://www.npmjs.com/package/koa-static">koa-static</a>. <code class="highlighter-rouge">koa-static</code> allows you to specify and serve one or more directories as static assets - a necessity. <code class="highlighter-rouge">koa-router</code> typically handles app routes; that is to say the different endpoints for your app. The code is pretty straight forward, here’s a basic <code class="highlighter-rouge">app.js</code>:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s1">'use strict'</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">'colors'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Koa</span> <span class="k">from</span> <span class="s1">'koa'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">serve</span> <span class="k">from</span> <span class="s1">'koa-static'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Koa</span><span class="p">(),</span>
  <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>

<span class="nx">app</span>
  <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">serve</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">__dirname</span><span class="p">}</span><span class="s2">/public`</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Server Started ∹'</span><span class="p">.</span><span class="nx">green</span><span class="p">,</span> <span class="s1">'http://localhost:'</span><span class="p">.</span><span class="nx">grey</span> <span class="o">+</span> <span class="nx">port</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">blue</span><span class="p">);</span>
  <span class="p">});</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">app</span><span class="p">;</span>
</code></pre></div></div><h3 id="vuejs">Vue.js</h3><p>To start off a project with Vue, we used <a href="https://github.com/vuejs/vue-cli">vue-cli</a>. That allows us to create boilerplate apps. Since we’re running with scissors here, we jumped right in and went with the simplest template.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vue init webpack-simple <span class="nb">.</span>
</code></pre></div></div><p>That gives us a basic (as in pumpkin spice latte) Vue app which displays a single page at <code class="highlighter-rouge">index.html</code> with a logo and some links. That also generates the <code class="highlighter-rouge">App.vue</code> file, which is the main “Vue file” for the app. All of that resides in <code class="highlighter-rouge">src</code> now. That’s all well and good, but what about that Webpack file created?</p><h3 id="enter-webpack">Enter Webpack</h3><p>Getting a Vue app working right means bundling correctly. We use Webpack, but there are a lot of examples out there with Browserify if you prefer that. <a href="https://webpack.github.io/">Webpack</a> is a wonderful bundling tool and can perform a host of functions. So much so that it can be considered a full-fledged build tool. You’ll need a <code class="highlighter-rouge">webpack.config.js</code> file to kick things off:</p><script src="https://gist.github.com/shellscape/359caf7243e7f53d7ff2d60e41f637c3.js"></script><p>And then you’ll need Webpack itself:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm install webpack <span class="nt">-g</span>
</code></pre></div></div><p>You’ll note that we did a few things different with <code class="highlighter-rouge">webpack.config.js</code>, beyond what the <code class="highlighter-rouge">vue-cli</code> generated for us; moved assets to <code class="highlighter-rouge">assets</code> and introduced a Webpack Plugin to combine CSS in Vue files into one single CSS file to be served by Koa.</p><h2 id="tying-it-together">Tying it together</h2><p>If you’re following our example and using Babel as well, you’ll need a Node entry point file to set Babel up for development. We named this <code class="highlighter-rouge">index.js</code>:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="s1">'babel-core/register'</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">'babel-polyfill'</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">'./app'</span><span class="p">);</span>
</code></pre></div></div><p>Assuming you have a solid <code class="highlighter-rouge">.babelrc</code> and your dependencies setup correctly, you’re ready to try running this beast. First, fire up Webpack and create your bundles:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>webpack
</code></pre></div></div><p>Assuming everything succeeded, you’re ready to start the server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node index
</code></pre></div></div><p>And you should see something like this in your console:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>→ node index
Server Started ∹ http://localhost:3000
</code></pre></div></div><p>Hit that address in your browser and you should see the Vue demo app. How do you like them apples? I love ‘em.</p><h2 id="running-with-machetes">Running With Machetes</h2><p>We’ve conquered scissors, let’s get silly and run around with something larger and sharper - in a following post I’ll walk through using middleware with Koa2 to allow live development and Hot Module Reloading. That means you don’t have to restart your server to rebuild your bundles, and you see changes nearly instantly. It’s cool, right?</p><h3 id="cheers">Cheers!</h3><p><em>Originally published at <a href="http://shellscape.org/2016/11/04/running-with-koa-vuejs">shellscape.org</a> on November 3, 2016.</em></p></div><footer class="article__content__footer"><div class="article-tags"><span class="article-tags__tag">koa2</span><span>,</span> <span class="article-tags__tag">node.js</span><span>,</span> <span class="article-tags__tag">open source</span><span>,</span> <span class="article-tags__tag">vue.js</span><span>,</span> <span class="article-tags__tag">webpack</span></div><section class="author-bio"><svg class="author__avatar" height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon hbc-svg-icon--avatar__circle" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#circle"></use><use class="hbc-svg-icon hbc-svg-icon--avatar__head" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#head"></use><use class="hbc-svg-icon hbc-svg-icon--avatar__body" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#body"></use></svg><span class="author__name">Andrew Powell</span></section></footer></section><aside class="recirc"><h2 class="header__title">Recent Insights</h2><a class="header__view-all-link" href="https://saksdirect.github.io/hbc-tech-blog/categories/index.html">See All</a><div class="recirc__articles"><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2016-11-16-increasing-build-iq-travis-ci.html" class="snippet__title__link" title="Increasing Build IQ with Travis CI">Increasing Build IQ with Travis CI</a></h1><div class="snippet__meta"><span class="meta__day">16</span> <span class="meta__month">NOV</span> <span class="meta__year">2016</span> <a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/front end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2016-11-16-increasing-build-iq-travis-ci.html" class="snippet__excerpt__link" title="Increasing Build IQ with Travis CI"><p class="snippet__excerpt">Continuous Integration is a must these days. And for social, open source projects it’s crucial. Our tool of choice for automated testing is Travis CI. Like most tools, Travis does what it does well. Unfortunately it’s not very “smart”. Heaven help you if you have a large or modular project with a multitude of tests - you’ll be waiting an eternity between builds.</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2016-11-09-linting-npm-version-conflicts.html" class="snippet__title__link" title="Linting NPM Version Conflicts">Linting NPM Version Conflicts</a></h1><div class="snippet__meta"><span class="meta__day">9</span> <span class="meta__month">NOV</span> <span class="meta__year">2016</span> <a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/front end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2016-11-09-linting-npm-version-conflicts.html" class="snippet__excerpt__link" title="Linting NPM Version Conflicts"><p class="snippet__excerpt">Say you had the need for shared front-end assets (scripts, stylesheets, images, etc.) and a need for an entire org to access them, independently, for reliable builds of many different apps which used those assets. NPM might be a good choice - With NPM’s move to a flat-ish install tree, it’s still a relevant choice. But what about package version conflicts?</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2016-02-15-gulp-scan-find-strings.html" class="snippet__title__link" title="gulp-scan &bull; Find Yourself Some Strings">gulp-scan &bull; Find Yourself Some Strings</a></h1><div class="snippet__meta"><span class="meta__day">15</span> <span class="meta__month">FEB</span> <span class="meta__year">2016</span> <a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/front end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2016-02-15-gulp-scan-find-strings.html" class="snippet__excerpt__link" title="gulp-scan &bull; Find Yourself Some Strings"><p class="snippet__excerpt">We recently ran across the need to simply scan a file for a particular term during one of our build processes. Surpringly enough, we didn’t find a Gulp plugin that performed only that one simple task. And so gulp-scan was born and now resides on npmjs.org.</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2015-08-03-gilt-private-npm-modules-npmjsorg.html" class="snippet__title__link" title="Private NPM Modules&#58; A Song of Fire and Ice">Private NPM Modules&#58; A Song of Fire and Ice</a></h1><div class="snippet__meta"><span class="meta__day">3</span> <span class="meta__month">AUG</span> <span class="meta__year">2015</span> <a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/front end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2015-08-03-gilt-private-npm-modules-npmjsorg.html" class="snippet__excerpt__link" title="Private NPM Modules&#58; A Song of Fire and Ice"><p class="snippet__excerpt">Grab a coffee or pop and a snack, this is a read.</p></a></section></article></div></aside></article></section><footer class="footer"><svg class="est1670" xmlns="http://www.w3.org/2000/svg"><use class="hbc-tech-logo__use" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#est1670"></use></svg><section class="footer__links"><ul class="social-links social-links__list"><li class="social-links__list-item"><a class="social-links__link" rel="next" href="#"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="linkedin" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#linkedin"></use></svg></a></li><li class="social-links__list-item"><a class="social-links__link" rel="next" href="#"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="twitter" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#twitter"></use></svg></a></li><li class="social-links__list-item"><a class="social-links__link" rel="next" href="#"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="instagram" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#instagram"></use></svg></a></li></ul><p class="copyright">&copy; 2017 HBC Tech</p></section></footer><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/vendor/scrollmagic/ScrollMagic.min.js"></script><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/vendor/scrollmagic/debug.addIndicators.min.js"></script><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/main.js"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/get-gh-repos.js"></script></body></html>